package quicklic.quicklic.test;

import java.io.Serializable;

import quicklic.floating.api.FloatingInterface;
import quicklic.floating.api.FloatingServices;
import quicklic.quicklic.quicklic.QuicklicActivity;
import android.app.Activity;
import android.content.Intent;
import android.widget.Toast;

public class TestingFunction extends Activity implements Serializable, FloatingInterface
{
	private static final long serialVersionUID = 1L;

	FloatingServices floatingServices;

	@Override
	public void setContext( FloatingServices floatingServices )
	{
		this.floatingServices = floatingServices;
	}

	@Override
	public void touched()
	{
		Toast.makeText(floatingServices, "single", Toast.LENGTH_SHORT).show();
		Intent intent = new Intent(floatingServices, QuicklicActivity.class);
		intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); // 서비스 도중 실행 시, New Task 플래그가 필요하다.
		intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP); // 한 번 호출된 Activity에 대해서는 중복 호출 되지 않는다. (중복 불가 적용)
		floatingServices.startActivity(intent);
	}

	@Override
	public void doubleTouched()
	{
		floatingServices.changeMoveToSide();
		Toast.makeText(floatingServices, "double", Toast.LENGTH_SHORT).show();
	}

	@Override
	public void longTouched()
	{
		Toast.makeText(floatingServices, "long", Toast.LENGTH_SHORT).show();
	}

	@Override
	public boolean setAnimation()
	{
		return true;
	}

}
